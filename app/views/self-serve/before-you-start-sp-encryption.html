{% extends "layout.html" %}

{% block page_title %}
  GOV.UK prototype kit
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <div class="navigation-service">
      <div class="navigation-service-name">
        {{ teamName }}
      </div>
    </div>
  </div>
</div>

<div class="govuk-grid-row">

  <div class="govuk-grid-column-one-third">

    <div class="side-navigation">
      <ul class="govuk-list">
        <li class="active">
          <a href="dashboard" class="govuk-link--no-visited-state">Manage certificates</a>
        </li>
        <li class="">
          <a href="team-members" class="govuk-link--no-visited-state">Team members</a>
        </li>
      </ul>
    </div>

  </div>

  <div class="govuk-grid-column-two-thirds">

    <dl class="certificate-details">
      <dt class="govuk-visually-hidden">Environment</dt>
      <dd>Production</dd>
      <dt class="govuk-visually-hidden">Component</dt>
      <dd>Service provider</dd>
      <dt class="govuk-visually-hidden">Certificate</dt>
      <dd>Encryption certificate</dd>
    </dl>

    <h1 class="govuk-heading-l">
      Before you start
    </h1>

    {% if data['dual-running']==='true' %}

      <p>
        You need to do 2 things before you replace your service provider encryption certificate.
      </p>

      <ul class="govuk-list govuk-list--number">
        <li>Create a new key and certificate.</li>
        <li>Add your new encryption key and certificate to your service provider configuration.</li>
      </ul>

      <p>
        There is guidance on <a href="https://prototype-docs.cloudapps.digital/maintain-your-connection/service-provider/#update-the-encryption-key-and-certificate">updating your service provider encryption key and certificate</a>.
      </p>

      {% from "warning-text/macro.njk" import govukWarningText %}

      {{ govukWarningText({
        text: "You must update your service provider configuration before going to the next step, or your service's connection to GOV.UK Verify will break.",
        iconFallbackText: "Warning"
      }) }}

      <form action="upload-cert-sp-encryption">
        {{ govukButton({
          text: "I have updated my service provider configuration"
        }) }}
      </form>

    {% else %}

      <p>
        Before you update your service provider encryption certificate, you must create a new signing key and certificate.
      </p>

      <p>
        For more information, read the guidance on <a href="https://prototype-docs.cloudapps.digital/maintain-your-connection/service-provider/#update-the-encryption-key-and-certificate">updating your service provider encryption key and certificate</a>.
      </p>

      <form action="upload-cert-sp-encryption">
        {{ govukButton({
          text: "Continue"
        }) }}
      </form>

    {% endif %}





    {% from "file-upload/macro.njk" import govukFileUpload %}
    {% from "button/macro.njk" import govukButton %}
    {% from "input/macro.njk" import govukInput %}



  </div>
</div>

{% endblock %}
